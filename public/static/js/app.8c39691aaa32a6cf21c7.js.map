{"version":3,"sources":["webpack:///static/js/app.8c39691aaa32a6cf21c7.js","webpack:///./src/components/menu.vue?d158","webpack:///./src/App.vue?fc6a","webpack:///./src/main.js","webpack:///App.vue","webpack:///menu.vue","webpack:///pageConnect.vue","webpack:///pageFlow.vue","webpack:///pageProfil.vue","webpack:///./src/components/pageConnect.vue?18c1","webpack:///./src/components/pageFlow.vue?f255","webpack:///./src/components/pageProfil.vue?3387","webpack:///./src/components/menu.vue?3442","webpack:///./src/App.vue?9b75","webpack:///./src/components/pageConnect.vue?88f6","webpack:///./src/components/pageFlow.vue?160d","webpack:///./src/components/pageProfil.vue?7623"],"names":["webpackJsonp","module","exports","__webpack_require__","injectStyle","ssrContext","Component","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","config","productionTip","VueTouch","registerCustomEvent","type","taps","use","el","template","data","firebaseApp","database","user","provider","state","doubletap","components","App","a","mounted","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","this","firebase","initializeApp","google","auth","GoogleAuthProvider","facebook","FacebookAuthProvider","__WEBPACK_IMPORTED_MODULE_0__components_pageConnect__","__WEBPACK_IMPORTED_MODULE_0__components_pageConnect___default","__WEBPACK_IMPORTED_MODULE_1__components_pageProfil__","__WEBPACK_IMPORTED_MODULE_1__components_pageProfil___default","__WEBPACK_IMPORTED_MODULE_2__components_pageFlow__","__WEBPACK_IMPORTED_MODULE_2__components_pageFlow___default","name","isConnect","profilPage","flowPage","pageConnect","pageProfil","pageFlow","methods","goToProfil","appComp","$parent","goToFlow","that","vm","parent","setCustomParameters","display","addScope","signInWithPopup","then","result","credential","accessToken","ref","uid","once","snapshot","val","set","username","displayName","mail","email","isPhoto","console","log","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1__menu__","__WEBPACK_IMPORTED_MODULE_1__menu___default","footerMenu","picturesUrl","like","event","likeRef","imageUrl","target","currentSrc","orderByChild","equalTo","id","dataB","map","e","Number","count","obj","updates","update","created","on","coucou","push","url","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_3__menu__","__WEBPACK_IMPORTED_MODULE_3__menu___default","image","msg","b","myPhoto","classId","active","test","removePhoto","currentTarget","str","parentElement","getAttribute","res","split","remove","onFileChange","files","dataTransfer","length","createImage","file","reader","Image","FileReader","onload","uploadImage","removeImage","lastModified","storage","put","storeUrl","getDownloadURL","xhr","XMLHttpRequest","responseType","response","open","send","postUrl","catch","error","plop","c","category","newRef","wtacherId","userId","pushId","key","niquePush","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","click","$event","preventDefault","_v","staticRenderFns","_e","_l","style","background-image","tag","_s","elem","class","change"],"mappings":"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","file":"static/js/app.8c39691aaa32a6cf21c7.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(48)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(16),\n  /* template */\n  __webpack_require__(57),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-378b888d\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(49)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(15),\n  /* template */\n  __webpack_require__(58),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 13 */,\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n// Register a global custom directive called v-focus\nvar VueTouch = __webpack_require__(13);\nVueTouch.registerCustomEvent('doubletap', {\n  type: 'tap',\n  taps: 2\n});\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(VueTouch);\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  data: {\n    firebaseApp: false,\n    database: false,\n    user: false,\n    provider: false,\n    state: { doubletap: true }\n\n  },\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a },\n\n  mounted: function mounted() {\n\n    var firebaseConfig = {\n      apiKey: \"AIzaSyCZOGNAh0h4zhmEshF-ExSQtVjJO8z8Loo\",\n      authDomain: \"shade-dev.firebaseapp.com\",\n      databaseURL: \"https://shade-dev.firebaseio.com\",\n      projectId: \"shade-dev\",\n      storageBucket: \"shade-dev.appspot.com\",\n      messagingSenderId: \"91667937762\"\n    };\n    this.firebaseApp = firebase.initializeApp(firebaseConfig);\n    // Get a reference to the database service\n    this.database = this.firebaseApp.database();\n    this.provider = {\n      google: new firebase.auth.GoogleAuthProvider(),\n      facebook: new firebase.auth.FacebookAuthProvider()\n    };\n  }\n\n});\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_pageConnect__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_pageConnect___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_pageConnect__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_pageProfil__ = __webpack_require__(56);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_pageProfil___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_pageProfil__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_pageFlow__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_pageFlow___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_pageFlow__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n\n  data: function data() {\n    return {\n      isConnect: false, // boloolean pour savoir si l'utilisateur est connecté\n      user: false, // objet user que renvoie google ou facebook auth\n      profilPage: false,\n      flowPage: false\n    };\n  },\n\n  // liste des composants\n  components: {\n    pageConnect: __WEBPACK_IMPORTED_MODULE_0__components_pageConnect___default.a,\n    pageProfil: __WEBPACK_IMPORTED_MODULE_1__components_pageProfil___default.a,\n    pageFlow: __WEBPACK_IMPORTED_MODULE_2__components_pageFlow___default.a\n\n  }\n});\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'footerMenu',\n  data: function data() {\n    return {};\n  },\n\n  methods: {\n    goToProfil: function goToProfil() {\n      var appComp = this.$parent.$parent;\n      appComp.flowPage = false;\n      appComp.profilPage = true;\n    },\n    goToFlow: function goToFlow() {\n      var appComp = this.$parent.$parent;\n      appComp.profilPage = false;\n      appComp.flowPage = true;\n    }\n  }\n\n});\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'pageConnect',\n\n  methods: {\n\n    /*     google : function () {\n           let that = this;\n           let vm = that.$parent.$parent;\n           let parent = that.$parent;\n           firebase.auth().signInWithPopup(vm.provider.google).then(function(result) {\n              let token = result.credential.accessToken;\n             let user = result.user;\n              let checkUser = function () {\n               firebase.database().ref('/users/' + user.uid).once('value').then(function(snapshot) {\n                 let  data = snapshot.val();\n                 if (data == null){\n                    let createUser = function(userId, name){\n                      firebase.database().ref('users/' + userId).set({\n                       username: name,\n    \n                     }).then(function () {\n                       console.log(\"new user\", name, 'created')\n                       parent.isConnect = true;\n                       parent.profilPage = true;\n                       parent.user = user;\n                     })\n                   };\n                   createUser(user.uid, user.displayName);\n                 }else{\n                   console.log(\"compte déjà en db\");\n                   console.log(parent.isConnect)\n                   parent.isConnect = true;\n                   parent.profilPage = true;\n                   parent.user = user;\n                 }\n    \n               });\n             };\n             checkUser(user.uid);\n             console.log('object google:', user);\n             //createUser(user.uid, user.displayName);\n            });\n         },*/\n    facebook: function facebook() {\n      var that = this;\n      var vm = that.$parent.$parent;\n      var parent = that.$parent;\n      vm.provider.facebook.setCustomParameters({\n        'display': 'popup'\n      });\n      vm.provider.facebook.addScope('email');\n      firebase.auth().signInWithPopup(vm.provider.facebook).then(function (result) {\n        // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n        var token = result.credential.accessToken;\n        // The signed-in user info.\n        var user = result.user;\n\n        // ...\n        firebase.database().ref('/users/' + user.uid).once('value').then(function (snapshot) {\n          var data = snapshot.val();\n          if (data == null) {\n\n            firebase.database().ref('/users/' + user.uid).set({\n              username: user.displayName,\n              mail: user.email,\n              isPhoto: false\n\n            }).then(function () {\n              console.log(\"new user\", name, 'created');\n\n              parent.isConnect = true;\n              parent.profilPage = true;\n              parent.user = user;\n            });\n          } else {\n            console.log(\"compte déjà en db\");\n            console.log(parent.isConnect);\n\n            parent.isConnect = true;\n            parent.profilPage = true;\n            parent.user = user;\n          }\n        });\n      });\n      /*firebase.auth().signInWithRedirect(vm.provider.facebook);\n      firebase.auth().getRedirectResult().then(function(result) {\n        if (result.credential) {\n          // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n          let token = result.credential.accessToken;\n          // ...\n        }\n        // The signed-in user info.\n        let user = result.user;\n        console.log(user);\n        }).then(function(result) {\n         let token = result.credential.accessToken;\n        let user = result.user;\n        let checkUser = function () {\n          firebase.database().ref('/users/' + user.uid).once('value').then(function(snapshot) {\n            let  data = snapshot.val();\n            if (data == null){\n               let createUser = function(userId, name){\n                 firebase.database().ref('users/' + userId).set({\n                  username: name,\n                  }).then(function () {\n                  console.log(\"new user\", name, 'created');\n                   parent.isConnect = true;\n                  parent.profilPage = true;\n                  parent.user = user;\n                })\n              };\n              createUser(user.uid, user.displayName);\n            }else{\n              console.log(\"compte déjà en db\");\n              console.log(parent.isConnect);\n               parent.isConnect = true;\n              parent.profilPage = true;\n              parent.user = user;\n            }\n            });\n        };\n        checkUser(user.uid);\n        console.log('object google:', user);\n        //createUser(user.uid, user.displayName);\n       });\n      }*/\n    }\n  }\n});\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__menu__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__menu___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__menu__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'pageFlow',\n  components: { footerMenu: __WEBPACK_IMPORTED_MODULE_1__menu___default.a },\n\n  data: function data() {\n    var appCompo = this.$parent; // get pp compososant to have user object\n    return {\n      user: appCompo.user,\n      picturesUrl: []\n\n    };\n  },\n\n  methods: {\n    like: function like(event) {\n      var likeRef = firebase.database().ref('photos/');\n      var imageUrl = event.target.currentSrc;\n      likeRef.orderByChild(\"url\").equalTo(imageUrl).once('value').then(function (snapshot) {\n\n        var data = snapshot.val();\n        console.log('sensé etre un object', data);\n        var id = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(data);\n        console.log('id', id[0]);\n        var dataB = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(data).map(function (e) {\n          return [Number(e), data[e]];\n        });\n        console.log('est devenu un array', dataB);\n        var count = dataB.map(function (obj) {\n          return obj[1].like;\n        });\n        count++;\n        console.log('count', count);\n        var updates = {};\n        updates['photos/' + id[0] + '/' + 'like'] = count;\n        firebase.database().ref().update(updates);\n      });\n    }\n  },\n\n  created: function created() {\n    var that = this;\n    var photoRef = firebase.database().ref('photos/');\n    photoRef.on('value', function (snapshot) {\n\n      var data = snapshot.val();\n      var coucou = [];\n\n      if (data) {\n        var dataB = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(data).map(function (e) {\n          return [Number(e), data[e]];\n        });\n        dataB.map(function (obj) {\n          coucou.push(obj[1].url);\n        });\n        that.picturesUrl = coucou;\n      }\n    });\n  }\n});\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__menu__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__menu___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__menu__);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'pageProfil',\n  components: { footerMenu: __WEBPACK_IMPORTED_MODULE_3__menu___default.a },\n  data: function data() {\n    var appCompo = this.$parent; // get pp compososant to have user object\n    return {\n      user: appCompo.user,\n      imageUrl: false,\n      image: false,\n      isPhoto: false,\n      msg: { a: false, b: \"Postez une photo\" },\n      myPhoto: false,\n      classId: false,\n      active: true\n    };\n  },\n\n  methods: {\n    test: function test() {\n      console.log('tap');\n    },\n    removePhoto: function removePhoto() {\n      console.log(event.currentTarget);\n      var container = event.currentTarget.parentElement.parentElement;\n      var str = event.currentTarget.getAttribute(\"class\");\n      var res = str.split(\" \");\n      //console.log(res)\n      firebase.database().ref('photos/' + res[2]).remove();\n    },\n    flowPage: function flowPage() {\n      this.$parent.flowPage = true;\n      this.$parent.profilPage = false;\n    },\n    onFileChange: function onFileChange(e) {\n      var files = e.target.files || e.dataTransfer.files; // chope l'image\n      if (!files.length) return;\n      this.createImage(files[0]);\n    },\n    createImage: function createImage(file) {\n      var image = new Image();\n      var reader = new FileReader();\n      var vm = this;\n      console.log(file);\n\n      reader.onload = function (e) {\n        vm.imageUrl = e.target.result;\n      };\n      //reader.readAsDataURL(file); // assigne l'url de l'image a data.imageUrl\n      vm.image = file; //assigne l'objet image a data.image\n\n      //console.log(file); //\n      this.uploadImage();\n    },\n\n    removeImage: function removeImage(e) {\n      this.image = '';\n    },\n    uploadImage: function uploadImage() {\n      var vm = this;\n      var image = vm.image;\n      var file = image; // use the Blob or File API\n      console.log(file.lastModified);\n\n      var ref = firebase.storage().ref(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(file.lastModified));\n      // push dans ce dossier un enfant qui a le nom \" image.name \"\n\n      ref.put(file).then(function (snapshot) {\n        console.log('Uploaded a blob or file!');\n      }).then(function () {\n\n        var ref = firebase.storage().ref(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(file.lastModified));\n        var storeUrl = void 0;\n\n        var getUrl = function getUrl() {\n\n          ref.getDownloadURL().then(function (url) {\n            var xhr = new XMLHttpRequest();\n            xhr.responseType = 'blob';\n            xhr.onload = function (event) {\n              var blob = xhr.response;\n            };\n            xhr.open('GET', url);\n            xhr.send();\n            storeUrl = url;\n\n            postUrl(storeUrl);\n          }).catch(function (error) {\n            console.log(error);\n          });\n        };\n        getUrl();\n        // post l'url de l'image dans un tableau photos dans la table user.uid\n        var postUrl = function postUrl() {\n          /*let photoId = 1;\n          firebase.database().ref('photos/').once('value').then(function (snapshot) {\n            if (snapshot.val()) {\n               let data = snapshot.val();\n              data = data.length;\n              photoId = data++;\n              return photoId\n            }\n           }).then(function () {*/\n          var plop = { a: \"plop\", b: \"plop2\", c: \"plop3\" }; // valeur test pour db\n          var category = { a: \"random\" }; // valeur test pour la db\n\n\n          var newRef = firebase.database().ref('photos/').push({\n\n            url: storeUrl,\n            wtacherId: plop,\n            category: category,\n            userId: vm.user.uid,\n            like: 0,\n            pushId: 0\n\n          });\n          var pushId = newRef.key;\n          var niquePush = {};\n          niquePush['photos/' + pushId + '/pushId'] = pushId;\n          firebase.database().ref().update(niquePush);\n\n          var updates = {};\n          updates['users/' + vm.user.uid + '/isPhoto'] = true;\n          firebase.database().ref().update(updates);\n\n          vm.removeImage();\n          vm.isPhoto = true;\n          console.log(vm.msg);\n          vm.msg.a = \"Photo bien recu\";\n          vm.msg.b = \"Poster d'autre photos\";\n\n          //});\n        };\n      });\n    }\n  },\n  created: function created() {\n    var vm = this;\n    firebase.database().ref('users/' + vm.user.uid).on('value', function (snapshot) {\n\n      vm.isPhoto = true;\n      var ref = firebase.database().ref(\"photos/\");\n      ref.orderByChild(\"userId\").equalTo(vm.user.uid).on('value', function (snapshot) {\n\n        var data = snapshot.val();\n        var myPhoto = [];\n\n        if (data) {\n          var dataB = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(data).map(function (e) {\n            return [Number(e), data[e]];\n          });\n          dataB.map(function (obj) {\n            myPhoto.push(obj[1]);\n          });\n\n          vm.myPhoto = myPhoto;\n        }\n      });\n    });\n  }\n\n});\n\n/***/ }),\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */,\n/* 45 */,\n/* 46 */,\n/* 47 */,\n/* 48 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 53 */,\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(50)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(17),\n  /* template */\n  __webpack_require__(59),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-52675f9d\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(51)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(18),\n  /* template */\n  __webpack_require__(60),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-7278c18b\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(52)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(19),\n  /* template */\n  __webpack_require__(61),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-c702ab4e\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('form', [_c('nav', [_c('ul', [_c('li', {\n    attrs: {\n      \"id\": \"profil\"\n    }\n  }, [_c('figure', {\n    staticClass: \"icon-user\",\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.goToProfil($event)\n      }\n    }\n  })]), _vm._v(\" \"), _c('li', [_c('button', {\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n      }\n    }\n  })])])])])\n},staticRenderFns: []}\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [(!_vm.isConnect) ? _c('page-connect') : _vm._e(), _vm._v(\" \"), (_vm.profilPage) ? _c('page-profil') : _vm._e(), _vm._v(\" \"), (_vm.flowPage) ? _c('page-flow') : _vm._e()], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('main', [_c('div', {\n    staticClass: \"container\"\n  }, [_c('a', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.facebook($event)\n      }\n    }\n  }, [_vm._v(\"\\n        Se connecter avec Facebook\")])])])\n},staticRenderFns: []}\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('main', [_c('ul', _vm._l((_vm.picturesUrl), function(url) {\n    return _c('li', [_c('v-touch', {\n      staticClass: \"image\",\n      style: ({\n        'background-image': 'url(' + url + ')'\n      }),\n      attrs: {\n        \"tag\": \"div\"\n      },\n      on: {\n        \"doubletap\": function($event) {\n          _vm.like($event)\n        }\n      }\n    })], 1)\n  })), _vm._v(\" \"), _c('footer-menu')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('main', [_c('div', {\n    staticClass: \"container\"\n  }, [_c('a', {\n    staticClass: \"icon-arrow-left2 arrow\",\n    on: {\n      \"click\": _vm.flowPage\n    }\n  }), _vm._v(\" \"), _c('h1', [_vm._v(_vm._s(_vm.user.displayName))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"cardGlobal\"\n  }, _vm._l((_vm.myPhoto), function(elem) {\n    return _c('div', {\n      staticClass: \"containerCard\",\n      class: [elem.pushId]\n    }, [_c('div', {\n      staticClass: \"photo-card\"\n    }, [_c('div', {\n      staticClass: \"image\",\n      style: ({\n        'background-image': 'url(' + elem.url + ')'\n      })\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"heading\"\n    }, [_c('h2', {\n      staticClass: \"title\"\n    }, [_vm._v(\"like : \" + _vm._s(elem.like))]), _vm._v(\" \"), _c('a', {\n      staticClass: \"icon-x close\",\n      class: [elem.pushId],\n      on: {\n        \"click\": function($event) {\n          _vm.removePhoto($event)\n        }\n      }\n    })])])])\n  }))]), _vm._v(\" \"), _c('footer', [_c('nav', [_c('ul', [_c('li', {\n    staticClass: \"icon-photo\",\n    attrs: {\n      \"id\": \"profil\"\n    }\n  }, [_c('input', {\n    staticClass: \"input-file \",\n    attrs: {\n      \"type\": \"file\"\n    },\n    on: {\n      \"change\": _vm.onFileChange\n    }\n  })]), _vm._v(\" \"), _c('li', {\n    attrs: {\n      \"id\": \"photo_icon\"\n    }\n  })])])])])])\n},staticRenderFns: []}\n\n/***/ })\n],[14]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.8c39691aaa32a6cf21c7.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-378b888d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./menu.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./menu.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-378b888d\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./menu.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-378b888d\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/menu.vue\n// module id = 11\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50c990d6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50c990d6\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 12\n// module chunks = 1","\nimport Vue from 'vue'\nimport App from './App'\n\n\nVue.config.productionTip = false;\n// Register a global custom directive called v-focus\nlet VueTouch = require('vue-touch');\nVueTouch.registerCustomEvent('doubletap', {\n  type: 'tap',\n  taps: 2\n});\nVue.use(VueTouch);\n\n\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  data: {\n    firebaseApp: false,\n    database: false,\n    user: false,\n    provider:false,\n    state:{doubletap: true}\n\n  },\n  components: {App},\n\n\n  mounted: function () {\n\n    const firebaseConfig = {\n      apiKey: \"AIzaSyCZOGNAh0h4zhmEshF-ExSQtVjJO8z8Loo\",\n      authDomain: \"shade-dev.firebaseapp.com\",\n      databaseURL: \"https://shade-dev.firebaseio.com\",\n      projectId: \"shade-dev\",\n      storageBucket: \"shade-dev.appspot.com\",\n      messagingSenderId: \"91667937762\"\n    };\n    this.firebaseApp = firebase.initializeApp(firebaseConfig);\n    // Get a reference to the database service\n    this.database = this.firebaseApp.database();\n    this.provider = {\n      google: new firebase.auth.GoogleAuthProvider(),\n      facebook:new firebase.auth.FacebookAuthProvider()\n    };\n  }\n\n\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div id=\"app\">\n    <page-connect v-if=\"!isConnect\"></page-connect>\n    <page-profil v-if=\"profilPage\"></page-profil>\n    <page-flow v-if=\"flowPage\"></page-flow>\n\n  </div>\n</template>\n\n<script>\nimport pageConnect from './components/pageConnect'\nimport pageProfil from './components/pageProfil'\nimport pageFlow from './components/pageFlow'\n\n\n\n\nexport default {\n  name: 'app',\n\n\n\n  data: function () {\n    return{\n        isConnect : false, // boloolean pour savoir si l'utilisateur est connecté\n        user :false, // objet user que renvoie google ou facebook auth\n        profilPage:false,\n        flowPage:false,\n    }\n  },\n\n\n  // liste des composants\n  components: {\n    pageConnect,\n    pageProfil,\n    pageFlow\n\n  }\n}\n</script>\n\n<style>\nbody{\n  margin: 0;\n  padding: 0;\n}\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  width:100%;\n  background-color: #e7dee8;\n  padding-bottom: 200px;\n}\n@font-face {\n  font-family: 'icomoon';\n  src:  url('./assets/fonts/icomoon.eot?l8rcxw');\n  src:  url('./assets/fonts/icomoon.eot?l8rcxw#iefix') format('embedded-opentype'),\n  url('./assets/fonts/icomoon.ttf?l8rcxw') format('truetype'),\n  url('./assets/fonts/icomoon.woff?l8rcxw') format('woff'),\n  url('./assets/fonts/icomoon.svg?l8rcxw#icomoon') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n\n[class^=\"icon-\"], [class*=\" icon-\"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: 'icomoon' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-arrow-left2:before {\n  content: \"\\e902\";\n}\n.icon-photo:before {\n  content: \"\\e900\";\n}\n.icon-like:before {\n  content: \"\\e901\";\n}\n.icon-user:before {\n  content: \"\\e904\";\n}\n.icon-x:before {\n  content: \"\\e903\";\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?7632d220","<template>\n\n\n  <form>\n    <nav>\n      <ul>\n        <li id=\"profil\">\n          <figure @click.prevent=\"goToProfil\" class=\"icon-user\"></figure>\n        </li>\n        <li>\n          <button @click.prevent></button>\n        </li>\n      </ul>\n    </nav>\n\n  </form>\n\n\n</template>\n\n\n\n<script>\nexport default {\n  name: 'footerMenu',\n  data:function () {\n    return{\n\n    }\n  },\n\n  methods: {\n      goToProfil:function () {\n        let appComp = this.$parent.$parent;\n        appComp.flowPage = false;\n        appComp.profilPage = true;\n\n      },\n      goToFlow:function () {\n        let appComp = this.$parent.$parent ;\n        appComp.profilPage = false;\n        appComp.flowPage = true;\n\n      }\n  }\n\n}\n\n</script>\n\n\n<style scoped>\n  .icon-user:before {\n    position: absolute;\n    bottom: 20px;\n    left: 0px;\n    right: 0px;\n    text-align: center;\n    color: white;\n    font-size: 40px;\n  }\nul{\n  list-style: none;\n  display: inline-table;\n  margin: 0;\n  padding: 0;\n  position: relative;\n  width: 100%;\n\n}\nnav{\n  height:50px;\n  background-color: white;\n  border-top:2px solid black;\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n\n}\nul li {\n  display: inline-block;\n}\nul li:first-child{\n  margin-right: 70%;\n}\n#profil{\n  position :absolute;\n  top:-35px;\n  left: 0;\n  right: 0;\n  margin: auto;\n  width: 70px;\n\n}\nfigure{\n  font-size: 0px;\n  width: 70px;\n  height: 70px;\n  display: block;\n  border-radius: 50%;\n  background-color: #e6184a;\n  margin:0;\n  cursor: pointer;\n  color: white;\n}\n\n\n\n\n\n\n\n\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// menu.vue?03b2a910","<template>\n\n <main>\n\n     <div class=\"container\">\n       <!--\n       <button @click.prevent=\"google\"class=\"input-file\" id='change' ></button>\n       <label tabindex=\"0\" for=\"change\" class=\"input-file-trigger\">google connect</label>-->\n       <a @click.prevent=\"facebook\"class=\"btn\">\n         Se connecter avec Facebook</a>\n       <!--<a @click.prevent=\"google\"class=\"btn\">\n         Se connecter avec google</a>-->\n     </div>\n\n\n </main>\n\n\n\n</template>\n\n\n\n<script>\nexport default {\n  name: 'pageConnect',\n\n  methods: {\n\n /*     google : function () {\n        let that = this;\n        let vm = that.$parent.$parent;\n        let parent = that.$parent;\n        firebase.auth().signInWithPopup(vm.provider.google).then(function(result) {\n\n          let token = result.credential.accessToken;\n          let user = result.user;\n\n          let checkUser = function () {\n            firebase.database().ref('/users/' + user.uid).once('value').then(function(snapshot) {\n              let  data = snapshot.val();\n              if (data == null){\n\n                let createUser = function(userId, name){\n\n                  firebase.database().ref('users/' + userId).set({\n                    username: name,\n\n\n                  }).then(function () {\n                    console.log(\"new user\", name, 'created')\n                    parent.isConnect = true;\n                    parent.profilPage = true;\n                    parent.user = user;\n                  })\n                };\n                createUser(user.uid, user.displayName);\n              }else{\n                console.log(\"compte déjà en db\");\n                console.log(parent.isConnect)\n                parent.isConnect = true;\n                parent.profilPage = true;\n                parent.user = user;\n              }\n\n\n            });\n          };\n          checkUser(user.uid);\n          console.log('object google:', user);\n          //createUser(user.uid, user.displayName);\n\n        });\n      },*/\n    facebook : function () {\n      let that = this;\n      let vm = that.$parent.$parent;\n      let parent = that.$parent;\n      vm.provider.facebook.setCustomParameters({\n        'display': 'popup'\n      });\n      vm.provider.facebook.addScope('email');\n      firebase.auth().signInWithPopup(vm.provider.facebook).then(function(result) {\n        // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n        let token = result.credential.accessToken;\n        // The signed-in user info.\n        let user = result.user;\n\n        // ...\n        firebase.database().ref('/users/' + user.uid).once('value').then(function(snapshot) {\n          let  data = snapshot.val();\n          if (data == null){\n\n              firebase.database().ref('/users/' + user.uid).set({\n                username: user.displayName,\n                mail : user.email,\n                isPhoto : false,\n\n\n              }).then(function () {\n                console.log(\"new user\", name, 'created');\n\n                parent.isConnect = true;\n                parent.profilPage = true;\n                parent.user = user;\n              })\n\n          }else{\n            console.log(\"compte déjà en db\");\n            console.log(parent.isConnect);\n\n            parent.isConnect = true;\n            parent.profilPage = true;\n            parent.user = user;\n          }\n\n\n        });\n      });\n      /*firebase.auth().signInWithRedirect(vm.provider.facebook);\n      firebase.auth().getRedirectResult().then(function(result) {\n        if (result.credential) {\n          // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n          let token = result.credential.accessToken;\n          // ...\n        }\n        // The signed-in user info.\n        let user = result.user;\n        console.log(user);\n\n\n      }).then(function(result) {\n\n        let token = result.credential.accessToken;\n        let user = result.user;\n        let checkUser = function () {\n          firebase.database().ref('/users/' + user.uid).once('value').then(function(snapshot) {\n            let  data = snapshot.val();\n            if (data == null){\n\n              let createUser = function(userId, name){\n\n                firebase.database().ref('users/' + userId).set({\n                  username: name,\n\n\n                }).then(function () {\n                  console.log(\"new user\", name, 'created');\n\n                  parent.isConnect = true;\n                  parent.profilPage = true;\n                  parent.user = user;\n                })\n              };\n              createUser(user.uid, user.displayName);\n            }else{\n              console.log(\"compte déjà en db\");\n              console.log(parent.isConnect);\n\n              parent.isConnect = true;\n              parent.profilPage = true;\n              parent.user = user;\n            }\n\n\n          });\n        };\n        checkUser(user.uid);\n        console.log('object google:', user);\n        //createUser(user.uid, user.displayName);\n\n      });\n    }*/\n  }\n  }\n}\n\n\n</script>\n\n\n<style scoped>\n  .container{\n    position: fixed;\n    bottom: 25vh;\n    left: 0;\n    right: 0;\n    margin: auto;\n  }\n  main{\n    background-image: url(\"../assets/Shade_logo_blanc.jpg\");\n    background-size: cover;\n    background-position: 50% 50%;\n    height:100vh;\n    width: 100%;\n    position: fixed;\n  }\n\n  .btn {\n    background: -moz-linear-gradient(left, #e26a84 0%, #e5244e 100%); /* FF3.6-15 */\n    background: -webkit-linear-gradient(left,#e26a84 0%,#e5244e 100%); /* Chrome10-25,Safari5.1-6 */\n    background: linear-gradient(to right,#e26a84 0%,#e5244e 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#1e5799', endColorstr='#e5244e',GradientType=1 ); /* IE6-9 */\n    -webkit-border-radius: 28;\n    -moz-border-radius: 28;\n    border-radius: 28px;\n    font-family: Arial;\n    color: #ffffff;\n    font-size: 16px;\n    padding: 13px 20px 13px 20px;\n    text-decoration: none;\n    margin: 20px;\n  }\n\n\n\n\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// pageConnect.vue?d771bfb6","<template>\n\n  <main>\n    <ul>\n      <li v-for=\"url in picturesUrl\">\n        <v-touch tag=\"div\"\n                 :style=\"{ 'background-image': 'url(' + url + ')' }\"\n                 class=\"image\"\n                 @doubletap=\"like($event)\"\n\n        ></v-touch>\n      </li>\n    </ul>\n\n    <footer-menu></footer-menu>\n  </main>\n\n\n</template>\n\n\n\n<script>\n\n\n  import footerMenu from './menu'\n  export default {\n    name: 'pageFlow',\n    components:{footerMenu},\n\n    data : function () {\n      let appCompo = this.$parent; // get pp compososant to have user object\n      return{\n        user :appCompo.user,\n        picturesUrl:[]\n\n      }\n\n    },\n\n    methods: {\n      like: function (event) {\n        let likeRef = firebase.database().ref('photos/');\n        let imageUrl = event.target.currentSrc;\n        likeRef.orderByChild(\"url\").equalTo(imageUrl).once('value').then(function(snapshot) {\n\n            let data = snapshot.val();\n            console.log('sensé etre un object',data);\n            let id = Object.keys(data);\n            console.log('id',id[0])\n            let dataB = Object.keys(data).map(function(e) {\n              return [Number(e), data[e]];\n            });\n            console.log('est devenu un array', dataB);\n            let count = dataB.map( function(obj){  return obj[1].like });\n            count++;\n            console.log('count',count);\n            let updates = {};\n            updates['photos/' + id[0] + '/' + 'like'] = count;\n            firebase.database().ref().update(updates);\n        });\n\n\n\n      }\n    },\n\n    created : function () {\n      let that = this;\n      let photoRef = firebase.database().ref('photos/');\n      photoRef.on('value', function(snapshot) {\n\n\n        let data = snapshot.val();\n        let coucou = [];\n\n        if(data){\n          let dataB = Object.keys(data).map(function(e) {\n            return [Number(e), data[e]];\n          });\n          dataB.map( function(obj){  coucou.push(obj[1].url) });\n          that.picturesUrl = coucou;\n        }\n\n\n      });\n    }\n  }\n\n\n</script>\n\n\n<style scoped>\n  main{\n    background-image: url(\"../assets/background-profil.jpg\");\n    background-size: 100%;\n    overflow: auto;\n    width: 100%;\n    background-repeat:no-repeat;\n    min-height: 100vh;\n  }\n  ul li {\n    list-style: none;\n    border-radius: 10px;\n    display: block;\n    width: 80%;\n    margin: 20px auto;\n\n  }\n  ul {margin: 10vh 0 0 0;\n    padding: 0;}\n  .image {\n    border-radius: 2px 2px 0 0;\n    height:0px;\n    width:100%;\n    padding-bottom:106.25%;\n    border-radius: 15px;\n    background : center center / cover;\n    display:block;\n  }\n\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// pageFlow.vue?bcd8405c","<template>\n  <div>\n\n\n\n    <main>\n      <div class=\"container\">\n        <a class=\"icon-arrow-left2 arrow\" @click=\"flowPage\"></a>\n        <h1>{{user.displayName}}</h1>\n        <div class=\"cardGlobal\">\n          <div class=\"containerCard\"  v-for=\"elem in myPhoto\" v-bind:class=\"[elem.pushId]\" >\n            <div class=\"photo-card\"  >\n              <div class=\"image\"  :style=\"{ 'background-image': 'url(' + elem.url + ')' }\" >\n              </div>\n              <div class=\"heading\">\n                <h2 class=\"title\">like : {{elem.like}}</h2>\n                <a class=\"icon-x close\" v-bind:class=\"[elem.pushId]\" @click=\"removePhoto($event)\"></a>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <footer>\n        <nav>\n          <ul>\n            <li id=\"profil\" class=\"icon-photo\">\n              <input  class=\"input-file \"  type=\"file\" @change=\"onFileChange\">\n            </li>\n            <li id=\"photo_icon\">\n            </li>\n          </ul>\n        </nav>\n      </footer>\n    </main>\n\n\n\n\n\n\n\n\n  </div>\n</template>\n\n\n\n<script>\n  import Vue from 'vue'\nimport footerMenu from './menu'\nexport default {\n  name: 'pageProfil',\n  components:{footerMenu},\n  data : function () {\n      let appCompo = this.$parent; // get pp compososant to have user object\n      return{\n        user :appCompo.user,\n        imageUrl:false,\n        image:false,\n        isPhoto:false,\n        msg : {a :false, b:\"Postez une photo\"},\n        myPhoto:false,\n        classId:false,\n        active:true\n      }\n\n  },\n\n  methods:{\n            test(){\n              console.log('tap')\n\n            },\n            removePhoto(){\n                console.log(event.currentTarget);\n                let container = event.currentTarget.parentElement.parentElement;\n                let str = event.currentTarget.getAttribute(\"class\");\n                let res = str.split(\" \");\n                //console.log(res)\n                firebase.database().ref('photos/' + res[2] ).remove()\n\n\n            },\n            flowPage(){\n                this.$parent.flowPage = true;\n                this.$parent.profilPage=false\n            },\n\n            onFileChange(e) {\n              let files = e.target.files || e.dataTransfer.files; // chope l'image\n              if (!files.length)\n                return;\n              this.createImage(files[0]);\n            },\n            createImage(file) {\n              let image = new Image();\n              let reader = new FileReader();\n              let vm = this;\n              console.log(file);\n\n\n\n              reader.onload = (e) => {\n                vm.imageUrl = e.target.result;\n\n\n              };\n              //reader.readAsDataURL(file); // assigne l'url de l'image a data.imageUrl\n              vm.image =file;  //assigne l'objet image a data.image\n\n              //console.log(file); //\n              this.uploadImage();\n            },\n            removeImage: function (e) {\n              this.image = '';\n            },\n            uploadImage(){\n              let vm = this;\n              let image = vm.image;\n              let file = image; // use the Blob or File API\n              console.log(file.lastModified);\n\n              let ref = firebase.storage().ref(JSON.stringify(file.lastModified));\n              // push dans ce dossier un enfant qui a le nom \" image.name \"\n\n              ref.put(file).then(function(snapshot) {\n                console.log('Uploaded a blob or file!');\n              }).then(function () {\n\n                let ref = firebase.storage().ref(JSON.stringify(file.lastModified));\n                let storeUrl;\n\n                let getUrl = function () {\n\n\n                  ref.getDownloadURL().then(function(url) {\n                    let xhr = new XMLHttpRequest();\n                    xhr.responseType = 'blob';\n                    xhr.onload = function(event) {\n                      let blob = xhr.response;\n                    };\n                    xhr.open('GET', url);\n                    xhr.send();\n                    storeUrl = url;\n\n                    postUrl(storeUrl);\n\n\n                  }).catch(function(error) {\n                    console.log(error)\n                  });\n\n\n\n\n                };\n                getUrl();\n                // post l'url de l'image dans un tableau photos dans la table user.uid\n                let postUrl = function () {\n                  /*let photoId = 1;\n                  firebase.database().ref('photos/').once('value').then(function (snapshot) {\n                    if (snapshot.val()) {\n\n                      let data = snapshot.val();\n                      data = data.length;\n                      photoId = data++;\n                      return photoId\n                    }\n\n                  }).then(function () {*/\n                    let plop = {a: \"plop\", b: \"plop2\", c: \"plop3\"}; // valeur test pour db\n                    let category = {a: \"random\"}; // valeur test pour la db\n\n\n                    let newRef = firebase.database().ref('photos/' ).push({\n\n                      url: storeUrl,\n                      wtacherId: plop,\n                      category: category,\n                      userId: vm.user.uid,\n                      like: 0,\n                      pushId : 0\n\n\n                    });\n                  let pushId = newRef.key;\n                  let niquePush ={};\n                  niquePush['photos/'+ pushId + '/pushId'] = pushId;\n                  firebase.database().ref().update(niquePush);\n\n\n\n                  let updates = {};\n                    updates['users/' + vm.user.uid + '/isPhoto'] = true;\n                    firebase.database().ref().update(updates);\n\n                    vm.removeImage();\n                    vm.isPhoto = true;\n                    console.log(vm.msg);\n                    vm.msg.a = \"Photo bien recu\";\n                    vm.msg.b = \"Poster d'autre photos\"\n\n\n                  //});\n                }\n\n              });\n      }\n    },\n  created:function () {\n    let vm = this;\n    firebase.database().ref('users/' + vm.user.uid).on('value', function (snapshot) {\n\n      vm.isPhoto = true;\n      let ref = firebase.database().ref(\"photos/\");\n      ref.orderByChild(\"userId\").equalTo(vm.user.uid).on('value', function(snapshot) {\n\n        let data = snapshot.val();\n        let myPhoto = [];\n\n        if(data){\n          let dataB = Object.keys(data).map(function(e) {\n            return [Number(e), data[e]];\n          });\n          dataB.map( function(obj){\n              myPhoto.push(obj[1]);\n\n          });\n\n          vm.myPhoto = myPhoto;\n\n\n        }\n\n\n\n      });\n\n    });\n\n\n\n\n  }\n\n}\n\n\n</script>\n\n<style scoped>\nlabel{\n  border:1px solid black;\n}\nmain{\n  background-image: url(\"../assets/background-profil.jpg\");\n  background-size: 100%;\n  overflow: auto;\n  width: 100%;\n  background-repeat:no-repeat;\n  position: relative\n}\nh1{\n  clear: both;\n\n}\n.arrow{\n  font-size: 30px;\n  /* position: absolute; */\n  display: block;\n  float: left;\n  margin: 20px;\n}\n.container{\n  width: 85%;\n  background-color: white;\n  margin: 0 auto;\n  border-radius: 10px;\n  margin-top: 10vh;\n  -webkit-box-shadow: 0px 0px 25px 0px rgba(0,0,0,1);\n  -moz-box-shadow: 0px 0px 25px 0px rgba(0,0,0,1);\n  box-shadow: 0px 0px 25px 0px rgba(0,0,0,1);\n  text-align: center;\n  min-height: 100vh;\ndisplay:inline-block;\n\n}\nnav{\n  display: block;\n  width: 100%;\n  height: 30px;\n}\n\nul{\n  list-style: none;\n  clear: both;\n  padding: 0;\n}\nul li {\n  float: left;\n  padding: 10px;\n  font-weight: bold;\n}\nul li button{\n\n  font-size: 14px;\n\n}\ninput[type=\"file\"]:focus {\n  border: none;\n  outline: none;\n}\n.cardGlobal{\n  padding: 10px;\n  clear: both;\n}\n.containerCard{\n  width: calc(50% - 10px);\n  float: left;\n  padding: 5px;\n}\n\n/*\ncard css\n*/\n\n\n\n\nfooter ul{\n  list-style: none;\n  display: inline-table;\n  margin: 0;\n  padding: 0;\n  position: relative;\n  width: 100%;\n\n}\nfooter nav{\n  height:40px;\n  background-color: white;\n  border-top:2px solid black;\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n\n}\nfooter ul li {\n  display: inline-block;\n}\nfooter ul li:first-child{\n  margin-right: 70%;\n}\nfooter #profil{\n  font-size: 0px;\n  width: 50px;\n  height: 50px;\n  display: block;\n  position: absolute;\n  top: -55px;\n  left: 0;\n  right: 0;\n  border-radius: 50%;\n  background-color: #e6184a;\n  margin: 0 auto;\n  cursor: pointer;\n  color: white;\n\n}\n\nfooter input{\n  font-size: 0px;\n  width: 50px;\n  height: 50px;\n  opacity: 0;\n}\n.icon-photo:before {\n  position: absolute;\n  bottom: 17px;\n  left: 0px;\n  right: 0px;\n  text-align: center;\n  color: white;\n  font-size: 40px;\n}\n#photo_icon{\n  position: absolute;\n  bottom: -10px;\n  right: 0;\n  left: 0;\n}\n\n\n\n\n\n\n\n/*------------------*/\n.heading{\n  position: relative;\n}\n.close{\n  font-size: 20px;\n  position: absolute;\n  font-weight: bold;\n  bottom: 2px;\n  right: 8px;\n}\n   .image {\n      border-radius: 2px 2px 0 0;\n      height:0px;\n     width:100%;\n     padding-bottom:106.25%;\n     background : center center / cover;\n      display:block;\n    }\n\n\n  .photo-card {\n    width: 100%;\n    background-color: #fff;\n    border-radius: 2px;\n    overflow: hidden;\n    box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\n  }\n  .title{\n    margin:5px 0;\n    font-size: 12px;\n    text-align: left;\n    padding: 3px 15px;\n  }\n\n</style>\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// pageProfil.vue?bca6d768","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-52675f9d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./pageConnect.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./pageConnect.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-52675f9d\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./pageConnect.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-52675f9d\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pageConnect.vue\n// module id = 54\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7278c18b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./pageFlow.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./pageFlow.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7278c18b\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./pageFlow.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-7278c18b\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pageFlow.vue\n// module id = 55\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c702ab4e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./pageProfil.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./pageProfil.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c702ab4e\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./pageProfil.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-c702ab4e\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pageProfil.vue\n// module id = 56\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('form', [_c('nav', [_c('ul', [_c('li', {\n    attrs: {\n      \"id\": \"profil\"\n    }\n  }, [_c('figure', {\n    staticClass: \"icon-user\",\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.goToProfil($event)\n      }\n    }\n  })]), _vm._v(\" \"), _c('li', [_c('button', {\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n      }\n    }\n  })])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-378b888d\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/menu.vue\n// module id = 57\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [(!_vm.isConnect) ? _c('page-connect') : _vm._e(), _vm._v(\" \"), (_vm.profilPage) ? _c('page-profil') : _vm._e(), _vm._v(\" \"), (_vm.flowPage) ? _c('page-flow') : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-50c990d6\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 58\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('main', [_c('div', {\n    staticClass: \"container\"\n  }, [_c('a', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.facebook($event)\n      }\n    }\n  }, [_vm._v(\"\\n        Se connecter avec Facebook\")])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-52675f9d\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/pageConnect.vue\n// module id = 59\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('main', [_c('ul', _vm._l((_vm.picturesUrl), function(url) {\n    return _c('li', [_c('v-touch', {\n      staticClass: \"image\",\n      style: ({\n        'background-image': 'url(' + url + ')'\n      }),\n      attrs: {\n        \"tag\": \"div\"\n      },\n      on: {\n        \"doubletap\": function($event) {\n          _vm.like($event)\n        }\n      }\n    })], 1)\n  })), _vm._v(\" \"), _c('footer-menu')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7278c18b\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/pageFlow.vue\n// module id = 60\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('main', [_c('div', {\n    staticClass: \"container\"\n  }, [_c('a', {\n    staticClass: \"icon-arrow-left2 arrow\",\n    on: {\n      \"click\": _vm.flowPage\n    }\n  }), _vm._v(\" \"), _c('h1', [_vm._v(_vm._s(_vm.user.displayName))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"cardGlobal\"\n  }, _vm._l((_vm.myPhoto), function(elem) {\n    return _c('div', {\n      staticClass: \"containerCard\",\n      class: [elem.pushId]\n    }, [_c('div', {\n      staticClass: \"photo-card\"\n    }, [_c('div', {\n      staticClass: \"image\",\n      style: ({\n        'background-image': 'url(' + elem.url + ')'\n      })\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"heading\"\n    }, [_c('h2', {\n      staticClass: \"title\"\n    }, [_vm._v(\"like : \" + _vm._s(elem.like))]), _vm._v(\" \"), _c('a', {\n      staticClass: \"icon-x close\",\n      class: [elem.pushId],\n      on: {\n        \"click\": function($event) {\n          _vm.removePhoto($event)\n        }\n      }\n    })])])])\n  }))]), _vm._v(\" \"), _c('footer', [_c('nav', [_c('ul', [_c('li', {\n    staticClass: \"icon-photo\",\n    attrs: {\n      \"id\": \"profil\"\n    }\n  }, [_c('input', {\n    staticClass: \"input-file \",\n    attrs: {\n      \"type\": \"file\"\n    },\n    on: {\n      \"change\": _vm.onFileChange\n    }\n  })]), _vm._v(\" \"), _c('li', {\n    attrs: {\n      \"id\": \"photo_icon\"\n    }\n  })])])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-c702ab4e\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/pageProfil.vue\n// module id = 61\n// module chunks = 1"],"sourceRoot":""}